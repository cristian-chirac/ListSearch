<div *ngLet="{
  showsAutocomplete: showsAutocomplete$ | async,
  selectedValue: selectedValue$ | async
} as state"
(clickOutside)="closeAutocomplete()"
class="dropdown-container">
  <todos-autocomplete
    *ngIf="state.showsAutocomplete; else searchDropdown"
    [sourceUrls]="sourceUrls"
    (itemSelected)="onItemSelected($event)"
    (close)="closeAutocomplete()"
  ></todos-autocomplete>
  <ng-template #searchDropdown>
    <!-- why two way binding here? -->
    <input [(ngModel)]="state.selectedValue"
      (click)="showAutocomplete($event)"
      class="search-bar"
      type="text"
      data-testId="search-input"
      readonly>
  </ng-template>
</div>

