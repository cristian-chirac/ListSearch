<div *ngLet="{
  showsAutocomplete: showsAutocomplete$ | async,
  selectedValue: selectedValue$ | async
} as state"
class="dropdown-container">
  <ui-todos-autocomplete
    *ngIf="state.showsAutocomplete; else searchDropdown"
    [selectedTodo]="state.selectedValue"
    (itemSelected)="onItemSelected($event)"
    (close)="closeAutocomplete()"
  ></ui-todos-autocomplete>
  <ng-template #searchDropdown>
    <input [value]="state.selectedValue.title"
      (click)="showAutocomplete($event)"
      (focus)="showAutocomplete()"
      class="search-bar"
      type="text"
      data-testId="search-input"
      placeholder="Select Item"
      readonly>
  </ng-template>
</div>

